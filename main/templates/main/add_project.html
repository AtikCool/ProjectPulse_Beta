{% extends 'layout.html' %}
{% block title %}
Add new Project
{% endblock %}
{% block con %}

<div class="max-w-md mx-auto bg-white rounded p-8 shadow-md">
        <h2 class="text-2xl font-semibold mb-4">Create Project</h2>
        <form enctype="multipart/form-data" action="#" method="POST">
            {% csrf_token %}
<div class="flex items-center space-x-6">
    <div class="shrink-0">
      <img id='preview_img' class="h-16 w-16 object-cover rounded-full" src="https://cdn.pixabay.com/photo/2016/11/14/17/39/group-1824145_640.png" alt="Current profile photo" />
    </div>

    <label class="block">
      <span class="sr-only">Choose profile photo</span>
        <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="icon_input">Upload icon photo</label>
      {{ form.icon }}
    </label>
  </div>



<script>
        var loadFile = function(event) {

            var input = event.target;
            var file = input.files[0];
            var type = file.type;

           var output = document.getElementById('preview_img');


            output.src = URL.createObjectURL(event.target.files[0]);
            output.onload = function() {
                URL.revokeObjectURL(output.src) // free memory
            }
        };
</script>
            <div class="mb-4">
                <label for="title" class="block text-gray-700 font-semibold mb-2">Title:</label>
                {{ form.name }}
            </div>
            <div class="mb-4">
                <label for="description" class="block text-gray-700 font-semibold mb-2">Description:</label>
                {{ form.description}}
            </div>


            <div class="mb-4">
                <label for="date" class="block text-gray-700 font-semibold mb-2">Deadline date:</label>
                <!-- Применение стилей Tailwind к input[type="date"] -->
                {{ form.deadline }}
            </div>
<div class="max-w-md mx-auto bg-white border rounded p-4 shadow-md">
    <div class="bg-gray-200 border-b p-3">
            <h4 class="text-lg font-semibold">Add members</h4>
        </div>
    <!-- Не добавляем заголовок -->

    <div class="flex items-center">
    {{ form.members }}
    <label for="{{ el }}" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">{{ el.from_user.username }}</label>
</div>

    </div>








        <div class="flex justify-end">
            <a href="{{ project.get_absolute_url }}"><button type="submit" class="px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-600">Create</button></a>
            </div>
        </form>
    </div>

{% endblock %}